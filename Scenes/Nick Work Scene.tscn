[gd_scene load_steps=15 format=3 uid="uid://bmqgvvy0t5bfp"]

[ext_resource type="Material" uid="uid://b2rgc8u5hwwcc" path="res://Materials/TestGround.tres" id="1_7g8fi"]
[ext_resource type="Material" uid="uid://dekpipancsbc6" path="res://Materials/TestCubes.tres" id="2_8h0xq"]
[ext_resource type="Material" uid="uid://41byjnpqi8jl" path="res://Materials/TestBush.tres" id="2_r2bbj"]
[ext_resource type="PackedScene" uid="uid://cpyee7rfs1efb" path="res://Prefabs/player.tscn" id="3_r2bbj"]
[ext_resource type="PackedScene" uid="uid://durr2417rl7mr" path="res://Prefabs/enemy_ranged.tscn" id="5_e6mua"]
[ext_resource type="PackedScene" uid="uid://ddb5qsl2pw4p2" path="res://Prefabs/enemy_spores.tscn" id="6_r2bbj"]
[ext_resource type="PackedScene" uid="uid://uafprr7riwjm" path="res://Prefabs/enemy_melee.tscn" id="7_k711p"]

[sub_resource type="Environment" id="Environment_1dgrj"]

[sub_resource type="NavigationMesh" id="NavigationMesh_e6mua"]
vertices = PackedVector3Array(-1.48283, 0.45, -1.71342, -0.982828, 0.45, -1.21342, 5.51717, 0.45, -4.71342, 5.51717, 0.45, -6.21342, -23.9828, 0.45, 0.786575, -3.98283, 0.45, -0.963425, -3.23283, 0.45, -1.71342, 6.26717, 0.45, -6.96342, 7.51717, 0.45, -23.9634, -23.9828, 0.45, -23.9634, 7.51717, 0.45, -6.96342, -3.98283, 0.45, 0.786575, 9.76717, 0.45, -6.21342, 9.76717, 0.45, -5.21342, 24.0172, 0.45, -5.21342, 9.01717, 0.45, -6.96342, 24.0172, 0.45, -23.9634, 6.26717, 0.45, -3.71342, -0.732828, 0.45, 2.78658, -1.48283, 0.45, 3.53658, -2.23283, 0.45, 3.53658, -2.23283, 0.45, 24.0366, 9.01717, 0.45, -3.71342, 24.0172, 0.45, 24.0366, 9.76717, 0.45, -4.46342, -3.98283, 0.45, 2.78658, -3.23283, 0.45, 3.53658, -23.9828, 0.45, 24.0366)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(3, 0, 7), PackedInt32Array(7, 0, 6), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 4), PackedInt32Array(8, 4, 9), PackedInt32Array(8, 10, 7), PackedInt32Array(5, 11, 4), PackedInt32Array(14, 13, 12), PackedInt32Array(12, 15, 14), PackedInt32Array(14, 15, 16), PackedInt32Array(16, 15, 8), PackedInt32Array(15, 10, 8), PackedInt32Array(2, 17, 1), PackedInt32Array(1, 17, 18), PackedInt32Array(21, 20, 19), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 22), PackedInt32Array(22, 14, 19), PackedInt32Array(19, 14, 21), PackedInt32Array(21, 14, 23), PackedInt32Array(24, 13, 14), PackedInt32Array(14, 22, 24), PackedInt32Array(4, 11, 25), PackedInt32Array(26, 20, 21), PackedInt32Array(25, 26, 4), PackedInt32Array(4, 26, 21), PackedInt32Array(4, 21, 27)]
agent_height = 2.0
agent_radius = 1.0

[sub_resource type="BoxMesh" id="BoxMesh_8h0xq"]
size = Vector3(10, 0.1, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_e6mua"]
size = Vector3(10, 0.1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_e6mua"]

[sub_resource type="BoxShape3D" id="BoxShape3D_r2bbj"]

[sub_resource type="BoxShape3D" id="BoxShape3D_k711p"]

[node name="NickWorkScene" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1dgrj")

[node name="Player" parent="." instance=ExtResource("3_r2bbj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.13582, 1.83959, 2.45626)
cameraAngle = -35.0

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_e6mua")

[node name="Ground" type="MeshInstance3D" parent="NavigationRegion3D" groups=["World"]]
transform = Transform3D(5, 0, 0, 0, 1, 0, 0, 0, 5, 0.0171719, 0, 0.0365753)
material_override = ExtResource("1_7g8fi")
mesh = SubResource("BoxMesh_8h0xq")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Ground" groups=["World"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Ground/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_e6mua")

[node name="Cube02" type="MeshInstance3D" parent="NavigationRegion3D" groups=["World"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.04661, 0.51764, -5.38403)
material_override = ExtResource("2_8h0xq")
mesh = SubResource("BoxMesh_e6mua")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Cube02" groups=["World"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Cube02/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_r2bbj")

[node name="Cube03" type="MeshInstance3D" parent="NavigationRegion3D" groups=["World"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.08489, 0.51764, -5.38403)
material_override = ExtResource("2_8h0xq")
mesh = SubResource("BoxMesh_e6mua")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Cube03" groups=["World"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Cube03/StaticBody3D"]
shape = SubResource("BoxShape3D_r2bbj")

[node name="Cube04" type="MeshInstance3D" parent="NavigationRegion3D" groups=["World"]]
transform = Transform3D(1, 0, 0, 0, 2, 0, 0, 0, 3, -2.34658, 1.01413, 0.827631)
material_override = ExtResource("2_8h0xq")
mesh = SubResource("BoxMesh_e6mua")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Cube04" groups=["World"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Cube04/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_r2bbj")

[node name="World" type="Node3D" parent="."]

[node name="Bush1" type="MeshInstance3D" parent="World" groups=["Bush", "World"]]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 6, -5.88421, 0.976214, 0.562463)
layers = 2
material_override = ExtResource("2_r2bbj")
mesh = SubResource("BoxMesh_e6mua")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Bush1" groups=["Bush", "World"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush1/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_r2bbj")

[node name="Bush" type="Area3D" parent="World/Bush1" groups=["Bush"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush1/Bush" groups=["Bush"]]
shape = SubResource("BoxShape3D_k711p")
debug_color = Color(0, 0.647059, 0.196078, 1)

[node name="Bush2" type="MeshInstance3D" parent="World" groups=["Bush", "World"]]
transform = Transform3D(4.31604, 0, -1.38932, 0, 2, 0, 4.16795, 0, 1.43868, -7.73918, 1, -3.87657)
layers = 2
material_override = ExtResource("2_r2bbj")
mesh = SubResource("BoxMesh_e6mua")
skeleton = NodePath("../../WorldEnvironment")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Bush2" groups=["Bush"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush2/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_r2bbj")

[node name="Bush" type="Area3D" parent="World/Bush2" groups=["Bush"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush2/Bush" groups=["Bush", "World"]]
shape = SubResource("BoxShape3D_k711p")
debug_color = Color(0, 0.647059, 0.196078, 1)

[node name="Bush3" type="MeshInstance3D" parent="World" groups=["Bush", "World"]]
transform = Transform3D(1.512, 0, -5.23655, 0, 2, 0, 1.30914, 0, 6.04802, 5.65369, 1.32126, 6.95595)
layers = 2
material_override = ExtResource("2_r2bbj")
mesh = SubResource("BoxMesh_e6mua")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Bush3" groups=["Bush", "World"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush3/StaticBody3D" groups=["World"]]
shape = SubResource("BoxShape3D_r2bbj")

[node name="Bush" type="Area3D" parent="World/Bush3" groups=["Bush"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Bush3/Bush" groups=["Bush"]]
shape = SubResource("BoxShape3D_k711p")
debug_color = Color(0, 0.647059, 0.196078, 1)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.743145, 0.669131, 0, -0.669131, 0.743145, 0, 13.6917, 0)

[node name="RangedEnemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_e6mua")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.4614, 1.00397, 0)
player = NodePath("../Player")
hearingRange = 30.0
visionRange = 50.0
movementType = "keep set distance from player"
keepDistance = 10.0

[node name="SporeEnemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_r2bbj")]
transform = Transform3D(-0.721241, 0, 0.692685, 0, 1, 0, -0.692685, 0, -0.721241, 16.0525, 1.05, 14.5557)
player = NodePath("../Player")
hearingRange = 20.0
visionRange = 50.0

[node name="MeleeEnemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("7_k711p")]
transform = Transform3D(-0.999998, 0, 0.00209435, 0, 1, 0, -0.00209435, 0, -0.999998, 19.8914, 1.05, -17.2058)
player = NodePath("../Player")
hearingRange = 30.0
visionRange = 30.0
